# HomeDicator/core/templates/media_player.yaml
#
# This template defines a Home Assistant media_player sensor
# that tracks the state and attributes of a specified media player entity
# and updates corresponding LVGL UI elements.

platform: homeassistant
id: title_${hass_media_player_id} # Unique ID for this media player entity within ESPHome
entity_id: media_player.${hass_media_player_id} # The Home Assistant entity ID
attribute: media_title
on_value:
  then:
    - lvgl.label.update:
        id: lvgl_media_title_${hass_media_player_id}
        text: !lambda |-
          // Update the media title label
          std::string title = to_string(x);
          if (title.length() > 0) {
            return title;
          }
          return "No Title";
